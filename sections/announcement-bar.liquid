<style>
  .announcement-bar {
    background-color: #98FF98; /* Mint Green */
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    font-family: sans-serif;
    font-size: 14px;
  }

  .announcement-bar__section {
    display: flex;
    align-items: center;
    padding: 5px 0;
  }

  .announcement-bar__section--left {
    justify-content: flex-start;
    flex-grow: 1;
  }

  .announcement-bar__section--center {
    justify-content: center;
    flex-grow: 2;
    text-align: center;
  }

  .announcement-bar__section--right {
    justify-content: flex-end;
    flex-grow: 1;
  }

  .announcement-bar__social-icons .icon {
    width: 20px;
    height: 20px;
    margin-right: 8px;
    vertical-align: middle;
  }

  .announcement-bar__text {
    margin-left: 8px;
    white-space: nowrap; /* Prevent text from wrapping */
  }

  .announcement-bar__editable-text {
    outline: none; /* Remove outline on focus */
    min-width: 50px; /* Ensure it's visible even when empty */
    display: inline-block;
    padding: 2px 5px;
    border-radius: 3px;
    transition: background-color 0.2s ease;
  }

  .announcement-bar__editable-text:hover,
  .announcement-bar__editable-text:focus {
    background-color: rgba(255, 255, 255, 0.2); /* Light background on hover/focus */
  }

  .announcement-bar__dropdown-wrapper {
    position: relative;
    display: inline-block;
    margin-left: 15px;
  }

  .announcement-bar__dropdown-wrapper select {
    background-color: transparent;
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.5);
    padding: 5px 10px;
    border-radius: 5px;
    appearance: none; /* Remove default dropdown arrow */
    -webkit-appearance: none;
    -moz-appearance: none;
    cursor: pointer;
    font-size: 14px;
    outline: none;
  }

  .announcement-bar__dropdown-wrapper select option {
    color: black; /* Options should be readable */
    background-color: #98FF98;
  }

  /* Custom arrow for dropdowns */
  .announcement-bar__dropdown-wrapper::after {
    content: '▼'; /* Unicode down arrow */
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    color: white;
    pointer-events: none; /* Allow clicks to pass through to the select */
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .announcement-bar {
      flex-direction: column;
      text-align: center;
    }

    .announcement-bar__section {
      width: 100%;
      justify-content: center;
      margin-bottom: 10px;
    }

    .announcement-bar__section--left,
    .announcement-bar__section--center,
    .announcement-bar__section--right {
      flex-grow: unset; /* Reset flex-grow for column layout */
    }

    .announcement-bar__text {
      margin-left: 0;
      margin-top: 5px;
    }

    .announcement-bar__social-icons {
      margin-bottom: 5px;
    }

    .announcement-bar__dropdown-wrapper {
      margin-left: 0;
      margin-top: 10px;
    }
  }

  @media (max-width: 480px) {
    .announcement-bar {
      font-size: 12px;
      padding: 8px 10px;
    }

    .announcement-bar__social-icons .icon {
      width: 18px;
      height: 18px;
      margin-right: 5px;
    }

    .announcement-bar__dropdown-wrapper select {
      padding: 3px 8px;
      font-size: 12px;
    }
  }
</style>

<div class="announcement-bar">
  <div class="announcement-bar__section announcement-bar__section--left">
    <div class="announcement-bar__social-icons">
      <!-- Instagram Icon -->
      <svg class="icon icon-instagram" viewBox="0 0 20 20"><path fill="currentColor" fill-rule="evenodd" d="M13.23 3.492c-.84-.037-1.096-.046-3.23-.046-2.144 0-2.39.01-3.238.055-.776.027-1.195.164-1.487.273a2.4 2.4 0 0 0-.912.593 2.5 2.5 0 0 0-.602.922c-.11.282-.238.702-.274 1.486-.046.84-.046 1.095-.046 3.23s.01 2.39.046 3.229c.004.51.097 1.016.274 1.495.145.365.319.639.602.913.282.282.538.456.92.602.474.176.974.268 1.479.273.848.046 1.103.046 3.238.046s2.39-.01 3.23-.046c.784-.036 1.203-.164 1.486-.273.374-.146.648-.329.921-.602.283-.283.447-.548.602-.922.177-.476.27-.979.274-1.486.037-.84.046-1.095.046-3.23s-.01-2.39-.055-3.229c-.027-.784-.164-1.204-.274-1.495a2.4 2.4 0 0 0-.593-.913 2.6 2.6 0 0 0-.92-.602c-.284-.11-.703-.237-1.488-.273ZM6.697 2.05c.857-.036 1.131-.045 3.302-.045a63 63 0 0 1 3.302.045c.664.014 1.321.14 1.943.374a4 4 0 0 1 1.414.922c.41.397.728.88.93 1.414.23.622.354 1.279.365 1.942C18 7.56 18 7.824 18 10.005c0 2.17-.01 2.444-.046 3.292-.036.858-.173 1.442-.374 1.943-.2.53-.474.976-.92 1.423a3.9 3.9 0 0 1-1.415.922c-.51.191-1.095.337-1.943.374-.857.036-1.122.045-3.302.045-2.171 0-2.445-.009-3.302-.055-.849-.027-1.432-.164-1.943-.364a4.15 4.15 0 0 1-1.414-.922 4.1 4.1 0 0 1-.93-1.423c-.183-.51-.329-1.085-.365-1.943C2.009 12.45 2 12.167 2 10.004c0-2.161 0-2.435.055-3.302.027-.848.164-1.432.365-1.942a4.4 4.4 0 0 1 .92-1.414 4.2 4.2 0 0 1 1.415-.93c.51-.183 1.094-.33 1.943-.366Zm.427 4.806a4.105 4.105 0 1 1 5.805 5.805 4.105 4.105 0 0 1-5.805-5.805m1.882 5.371a2.668 2.668 0 1 0 2.042-4.93 2.668 2.668 0 0 0-2.042 4.93m5.922-5.942a.958.958 0 1 1-1.355-1.355.958.958 0 0 1 1.355 1.355" clip-rule="evenodd"/></svg>
      <!-- Facebook Icon -->
      <svg class="icon icon-facebook" viewBox="0 0 20 20"><path fill="currentColor" d="M18 10.049C18 5.603 14.419 2 10 2s-8 3.603-8 8.049C2 14.067 4.925 17.396 8.75 18v-5.624H6.719v-2.328h2.03V8.275c0-2.017 1.195-3.132 3.023-3.132.874 0 1.79.158 1.79.158v1.98h-1.009c-.994 0-1.303.621-1.303 1.258v1.51h2.219l-.355 2.326H11.25V18c3.825-.604 6.75-3.933 6.75-7.951"/></svg>
      <!-- Pinterest Icon -->
      <svg class="icon icon-pinterest" viewBox="0 0 20 20"><path fill="currentColor" d="M10 2.01a8.1 8.1 0 0 1 5.666 2.353 8.09 8.09 0 0 1 1.277 9.68A7.95 7.95 0 0 1 10 18.04a8.2 8.2 0 0 1-2.276-.307c.403-.653.672-1.24.816-1.729l.567-2.2c.134.27.393.5.768.702.384.192.768.297 1.19.297q1.254 0 2.248-.72a4.7 4.7 0 0 0 1.537-1.969c.37-.89.554-1.848.537-2.813 0-1.249-.48-2.315-1.43-3.227a5.06 5.06 0 0 0-3.65-1.374c-.893 0-1.729.154-2.478.461a5.02 5.02 0 0 0-3.236 4.552c0 .72.134 1.355.413 1.902.269.538.672.922 1.22 1.152.096.039.182.039.25 0 .066-.028.114-.096.143-.192l.173-.653c.048-.144.02-.288-.105-.432a2.26 2.26 0 0 1-.548-1.565 3.803 3.803 0 0 1 3.976-3.861c1.047 0 1.863.288 2.44.855.585.576.883 1.315.883 2.228a6.8 6.8 0 0 1-.317 2.122 3.8 3.8 0 0 1-.893 1.556c-.384.384-.836.576-1.345.576-.413 0-.749-.144-1.018-.451-.259-.307-.345-.672-.25-1.085q.22-.77.452-1.537l.173-.701c.057-.25.086-.451.086-.624 0-.346-.096-.634-.269-.855-.192-.22-.451-.336-.797-.336-.432 0-.797.192-1.085.595-.288.394-.442.893-.442 1.499.005.374.063.746.173 1.104l.058.144c-.576 2.478-.913 3.938-1.037 4.36-.116.528-.154 1.153-.125 1.863A8.07 8.07 0 0 1 2 10.03c0-2.208.778-4.11 2.343-5.666A7.72 7.72 0 0 1 10 2.001z"/></svg>
      <!-- YouTube Icon -->
      <svg class="icon icon-youtube" viewBox="0 0 20 20"><path fill="currentColor" d="M18.16 5.87c.34 1.309.34 4.08.34 4.08s0 2.771-.34 4.08a2.13 2.13 0 0 1-1.53 1.53c-1.309.34-6.63.34-6.63.34s-5.321 0-6.63-.34a2.13 2.13 0 0 1-1.53-1.53c-.34-1.309-.34-4.08-.34-4.08s0-2.771.34-4.08a2.17 2.17 0 0 1 1.53-1.53C4.679 4 10 4 10 4s5.321 0 6.63.34a2.17 2.17 0 0 1 1.53 1.53M8.3 12.5l4.42-2.55L8.3 7.4z"/></svg>
    </div>
    <span class="announcement-bar__text announcement-bar__editable-text" data-setting-id="left_text" contenteditable="true">Need Any Help? Call us: +222-1800-2628</span>
  </div>

  <div class="announcement-bar__section announcement-bar__section--center">
    <span class="announcement-bar__text announcement-bar__editable-text" data-setting-id="center_text" contenteditable="true">Free delivery on orders over $99</span>
  </div>

  <div class="announcement-bar__section announcement-bar__section--right">
    <div class="announcement-bar__dropdown-wrapper">
      <select class="announcement-bar__menu-selector" data-setting-id="menu_group">
        <option value="contact-about-faqs">Contact | About | FAQs</option>
        <option value="shop-collections">Shop | Collections</option>
        <option value="blog-news">Blog | News</option>
      </select>
    </div>

    <div class="announcement-bar__dropdown-wrapper">
      <select class="announcement-bar__currency-selector" data-setting-id="currency">
        <option value="USD">United States (USD $)</option>
        <option value="EUR">Europe (EUR €)</option>
        <option value="INR">India (INR ₹)</option>
        <option value="GBP">UK (GBP £)</option>
      </select>
    </div>

    <div class="announcement-bar__dropdown-wrapper">
      <select class="announcement-bar__language-selector" data-setting-id="language">
        <option value="en">English</option>
        <option value="hi">Hindi</option>
        <option value="fr">French</option>
        <option value="es">Spanish</option>
      </select>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const editableTexts = document.querySelectorAll('.announcement-bar__editable-text');
    const menuSelector = document.querySelector('.announcement-bar__menu-selector');
    const currencySelector = document.querySelector('.announcement-bar__currency-selector');
    const languageSelector = document.querySelector('.announcement-bar__language-selector');

    // Load saved content from localStorage
    editableTexts.forEach(element => {
      const settingId = element.dataset.settingId;
      const savedContent = localStorage.getItem(`announcement_bar_${settingId}`);
      if (savedContent) {
        element.textContent = savedContent;
      }

      // Save content on input change
      element.addEventListener('input', () => {
        localStorage.setItem(`announcement_bar_${settingId}`, element.textContent);
      });
    });

    // Load and save for menu selector
    const savedMenu = localStorage.getItem('announcement_bar_menu_group');
    if (savedMenu) {
      menuSelector.value = savedMenu;
    }
    menuSelector.addEventListener('change', (event) => {
      localStorage.setItem('announcement_bar_menu_group', event.target.value);
    });

    // Load and save for currency selector
    const savedCurrency = localStorage.getItem('announcement_bar_currency');
    if (savedCurrency) {
      currencySelector.value = savedCurrency;
    }
    currencySelector.addEventListener('change', (event) => {
      localStorage.setItem('announcement_bar_currency', event.target.value);
    });

    // Load and save for language selector
    const savedLanguage = localStorage.getItem('announcement_bar_language');
    if (savedLanguage) {
      languageSelector.value = savedLanguage;
    }
    languageSelector.addEventListener('change', (event) => {
      localStorage.setItem('announcement_bar_language', event.target.value);
    });
  });
</script>

{% schema %}
{
  "name": "Announcement bar",
  "settings": [
    {
      "type": "text",
      "id": "left_text",
      "default": "Need Any Help? Call us: +222-1800-2628",
      "label": "Left Section Text"
    },
    {
      "type": "text",
      "id": "center_text",
      "default": "Free delivery on orders over $99",
      "label": "Center Section Text"
    },
    {
      "type": "select",
      "id": "menu_group",
      "options": [
        { "value": "contact-about-faqs", "label": "Contact | About | FAQs" },
        { "value": "shop-collections", "label": "Shop | Collections" },
        { "value": "blog-news", "label": "Blog | News" }
      ],
      "default": "contact-about-faqs",
      "label": "Menu Group"
    },
    {
      "type": "select",
      "id": "currency",
      "options": [
        { "value": "USD", "label": "United States (USD $)" },
        { "value": "EUR", "label": "Europe (EUR €)" },
        { "value": "INR", "label": "India (INR ₹)" },
        { "value": "GBP", "label": "UK (GBP £)" }
      ],
      "default": "USD",
      "label": "Currency"
    },
    {
      "type": "select",
      "id": "language",
      "options": [
        { "value": "en", "label": "English" },
        { "value": "hi", "label": "Hindi" },
        { "value": "fr", "label": "French" },
        { "value": "es", "label": "Spanish" }
      ],
      "default": "en",
      "label": "Language"
    }
  ],
  "presets": [
    {
      "name": "Announcement bar",
      "category": "Header"
    }
  ]
}
{% endschema %}
